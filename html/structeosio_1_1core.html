<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: eosio::core Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>eosio</b></li><li class="navelem"><a class="el" href="structeosio_1_1core.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structeosio_1_1core-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">eosio::core Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afe6cd2a363060de08f71f3f6a42079f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#afe6cd2a363060de08f71f3f6a42079f7">fund_emi_pool</a> (account_name username, account_name host, eosio::asset amount, account_name code)</td></tr>
<tr class="memdesc:afe6cd2a363060de08f71f3f6a42079f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Метод ручного пополнения целевого фонда сообщества. Жетоны, попадающие в целевой фонд сообщества, подлежат распределению на цели с помощью голосования участников по установленным правилам консенсуса.  <a href="#afe6cd2a363060de08f71f3f6a42079f7">More...</a><br /></td></tr>
<tr class="separator:afe6cd2a363060de08f71f3f6a42079f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d6b898bb6a6ff984ca47ff45bb2504"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#aa6d6b898bb6a6ff984ca47ff45bb2504">emission</a> (account_name host)</td></tr>
<tr class="memdesc:aa6d6b898bb6a6ff984ca47ff45bb2504"><td class="mdescLeft">&#160;</td><td class="mdescRight">внутренний метод эмиссии, который вызывается в момент распределения целевого фонда сообщества на цели участников. Вызывается в момент переключения порядкового номера пула на каждый последующий. Эмитирует в балансы активных целей сообщества установленный архитектором процент от свободного финансового потока из заранее накопленного в фонде целей сообщества.  <a href="#aa6d6b898bb6a6ff984ca47ff45bb2504">More...</a><br /></td></tr>
<tr class="separator:aa6d6b898bb6a6ff984ca47ff45bb2504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8abb1c3da1cc66eeb0777a3ebd74a6"><td class="memItemLeft" align="right" valign="top">eosio::asset&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#acf8abb1c3da1cc66eeb0777a3ebd74a6">adjust_emission_pool</a> (account_name hostname)</td></tr>
<tr class="memdesc:acf8abb1c3da1cc66eeb0777a3ebd74a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Внутренний метод расчета пула эмиссии. Вызывается в момент распределения эмиссии на цели сообщества. Расчет объема эмиссии происходит исходя из параметра life_balance_for_sale завершенного пула, и процента эмиссии, установленного архитектором. Процент эмиссии ограничен от 0 до 1000% относительного живого остатка на продажу в каждом новом пуле.  <a href="#acf8abb1c3da1cc66eeb0777a3ebd74a6">More...</a><br /></td></tr>
<tr class="separator:acf8abb1c3da1cc66eeb0777a3ebd74a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf5822c41f9acc44534c06eb5d3e616b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#adf5822c41f9acc44534c06eb5d3e616b">priority_enter</a> (const <a class="el" href="structeosio_1_1priorenter.html">priorenter</a> &amp;op)</td></tr>
<tr class="memdesc:adf5822c41f9acc44534c06eb5d3e616b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Метод приоритетного входа в новый цикл. Доступен к использованию только при условии наличия предыдущего цикла, в котором участник имеет проигравший баланс. Позволяет зайти частью своего проигравшего баланса одновременно в два пула - первый и второй нового цикла. Использование приоритетного входа возможно только до истечения времени приоритета, которое начинается в момент запуска цикла и продолжается до истечения таймера приоритета.  <a href="#adf5822c41f9acc44534c06eb5d3e616b">More...</a><br /></td></tr>
<tr class="separator:adf5822c41f9acc44534c06eb5d3e616b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc36cbde13d6919274e1615cf72fecd"><td class="memItemLeft" align="right" valign="top"><a id="abdc36cbde13d6919274e1615cf72fecd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>adjust_host_income</b> (account_name parent_host, account_name last_ahost)</td></tr>
<tr class="separator:abdc36cbde13d6919274e1615cf72fecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa951318e432688f045d6893748a444cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#aa951318e432688f045d6893748a444cd">improve_params_of_new_cycle</a> (account_name host, account_name main_host)</td></tr>
<tr class="memdesc:aa951318e432688f045d6893748a444cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Получение параметров нового цикла. Внутренний метод, используемый для создания записей в базе данных, необходимых для запуска нового цикла.  <a href="#aa951318e432688f045d6893748a444cd">More...</a><br /></td></tr>
<tr class="separator:aa951318e432688f045d6893748a444cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8358af15c27c968b4879661242ee7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a1c8358af15c27c968b4879661242ee7a">emplace_first_pools</a> (account_name parent_host, account_name main_host, eosio::symbol_code root_symbol)</td></tr>
<tr class="memdesc:a1c8358af15c27c968b4879661242ee7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Внутренний метод установки первых пулов нового цикла.  <a href="#a1c8358af15c27c968b4879661242ee7a">More...</a><br /></td></tr>
<tr class="separator:a1c8358af15c27c968b4879661242ee7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8a3a33305dee1fc3cda981cacf009a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a0d8a3a33305dee1fc3cda981cacf009a">start_new_cycle</a> (account_name host)</td></tr>
<tr class="memdesc:a0d8a3a33305dee1fc3cda981cacf009a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Внутрений метод запуска нового цикла. Вызывается при достижении одного из множества условий. Вызывает расчет показательной статистики цикла и установку новых пулов. Если установлен флаг переключения на дочерний хост, здесь происходит замена основного хоста и снятие флага. Дочерний хост хранит в себе измененные параметры финансового ядра.  <a href="#a0d8a3a33305dee1fc3cda981cacf009a">More...</a><br /></td></tr>
<tr class="separator:a0d8a3a33305dee1fc3cda981cacf009a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7436c6f8e26b2cb9f73884616d3f4c64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a7436c6f8e26b2cb9f73884616d3f4c64">next_pool</a> (account_name host)</td></tr>
<tr class="memdesc:a7436c6f8e26b2cb9f73884616d3f4c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Внутренний метод открытия следующего пула Вызывается только при условии полного выкупа всех внутренних учетных единиц предыдущего пула.  <a href="#a7436c6f8e26b2cb9f73884616d3f4c64">More...</a><br /></td></tr>
<tr class="separator:a7436c6f8e26b2cb9f73884616d3f4c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b7bd0a4e7810a9911112c745f43fdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a52b7bd0a4e7810a9911112c745f43fdb">start_action</a> (const <a class="el" href="structeosio_1_1start.html">start</a> &amp;op)</td></tr>
<tr class="memdesc:a52b7bd0a4e7810a9911112c745f43fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Публичный метод запуска хоста Метод необходимо вызвать для запуска хоста после установки параметров хоста. Добавляет первый цикл, два пула, переключает демонастративный флаг запуска и создает статистические объекты. Подписывается аккаунтом хоста.  <a href="#a52b7bd0a4e7810a9911112c745f43fdb">More...</a><br /></td></tr>
<tr class="separator:a52b7bd0a4e7810a9911112c745f43fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6781ce293510a94cc421d386c9aae92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#ad6781ce293510a94cc421d386c9aae92">reg_action</a> (const <a class="el" href="structeosio_1_1reg.html">reg</a> &amp;op)</td></tr>
<tr class="memdesc:ad6781ce293510a94cc421d386c9aae92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Регистрация пользователя в системе. Характеризуется созданием профиля с ссылкой на приглашающий аккаунт. Приглашающий аккаунт используется в качестве связи для вычисления партнерских структур различного профиля.  <a href="#ad6781ce293510a94cc421d386c9aae92">More...</a><br /></td></tr>
<tr class="separator:ad6781ce293510a94cc421d386c9aae92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce681caf15438f64bd6cef01c008079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a1ce681caf15438f64bd6cef01c008079">profupdate_action</a> (const <a class="el" href="structeosio_1_1profupdate.html">profupdate</a> &amp;op)</td></tr>
<tr class="memdesc:a1ce681caf15438f64bd6cef01c008079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Метод обновления профиля Операция обновления профиля позволяет изменить мета-данные аккаунта.  <a href="#a1ce681caf15438f64bd6cef01c008079">More...</a><br /></td></tr>
<tr class="separator:a1ce681caf15438f64bd6cef01c008079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab146cbd52805b0e9689e32489d57d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#aeab146cbd52805b0e9689e32489d57d7">setparams_action</a> (const <a class="el" href="structeosio_1_1setparams.html">setparams</a> &amp;op)</td></tr>
<tr class="memdesc:aeab146cbd52805b0e9689e32489d57d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Публичный метод установки параметров протокола двойной спирали Вызывается пользователем после базовой операции создания хоста и проведения оплаты. Так же вызывается при установке параметров дочернего хоста. Содержит алгоритм финансового ядра. Производит основные расчеты таблиц курсов и валидирует положительность бизнес-дохода.  <a href="#aeab146cbd52805b0e9689e32489d57d7">More...</a><br /></td></tr>
<tr class="separator:aeab146cbd52805b0e9689e32489d57d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed92df918c207bde2047a062a785e13"><td class="memItemLeft" align="right" valign="top"><a id="afed92df918c207bde2047a062a785e13"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>deposit</b> (account_name username, account_name host, eosio::asset amount, account_name code)</td></tr>
<tr class="separator:afed92df918c207bde2047a062a785e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfd6d8fd630694c723ff06e4cd8cdfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#afcfd6d8fd630694c723ff06e4cd8cdfe">refresh_state</a> (account_name host)</td></tr>
<tr class="memdesc:afcfd6d8fd630694c723ff06e4cd8cdfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Публичный метод обновления состояния Проверяет пул на истечение во времени или завершение целого количества ядерных Юнитов. Запускает новый цикл или добавляет новый пул.  <a href="#afcfd6d8fd630694c723ff06e4cd8cdfe">More...</a><br /></td></tr>
<tr class="separator:afcfd6d8fd630694c723ff06e4cd8cdfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1638e74f48c2316a81db6e06f7593173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a1638e74f48c2316a81db6e06f7593173">fill_pool</a> (account_name username, account_name host, uint64_t quants, eosio::asset amount, uint64_t filled_pool_id)</td></tr>
<tr class="memdesc:a1638e74f48c2316a81db6e06f7593173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Внутренний метод заполнения пула. Вызывается в момент совершения депозита пользователем или на приоритетном входе. Создает баланс пользователю и уменьшает количество Юнитов в пуле.  <a href="#a1638e74f48c2316a81db6e06f7593173">More...</a><br /></td></tr>
<tr class="separator:a1638e74f48c2316a81db6e06f7593173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbed426e5072f1c0f43f051ff3c6e9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#aebbed426e5072f1c0f43f051ff3c6e9d">refresh_balance_action</a> (const <a class="el" href="structeosio_1_1refreshbal.html">refreshbal</a> &amp;op)</td></tr>
<tr class="memdesc:aebbed426e5072f1c0f43f051ff3c6e9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Публичный метод обновления баланса Пересчет баланса каждого пользователя происходит по его собственному действию. Обновление баланса приводит к пересчету доступной суммы для вывода - на противоположном цвете - проигрыш, на своем - выигрыш. На общее состояние Юнитов в пуле действие или бездействие пользователя со своим балансом влияния не оказывает. Без обновления баланса до состояния крайнего пула - сдать баланс Юнитов протоколу невозможно.  <a href="#aebbed426e5072f1c0f43f051ff3c6e9d">More...</a><br /></td></tr>
<tr class="separator:aebbed426e5072f1c0f43f051ff3c6e9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada24c50e781f7ed749e93f87ed68491d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; eosio::asset &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#ada24c50e781f7ed749e93f87ed68491d">calculate_forecast</a> (account_name username, account_name host, uint64_t quants, uint64_t pool_num)</td></tr>
<tr class="memdesc:ada24c50e781f7ed749e93f87ed68491d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Метод расчета прогнозов Внутренний метод расчета прогнозов выплат для последующих 4х пулов по балансу ядерных Юнитов и на основе будущих курсов. Используются только для демонастрации пользователю.  <a href="#ada24c50e781f7ed749e93f87ed68491d">More...</a><br /></td></tr>
<tr class="separator:ada24c50e781f7ed749e93f87ed68491d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de3452f29b79947afee91916eb429eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosio_1_1core.html#a9de3452f29b79947afee91916eb429eb">withdraw_action</a> (const <a class="el" href="structeosio_1_1withdraw.html">withdraw</a> &amp;op)</td></tr>
<tr class="memdesc:a9de3452f29b79947afee91916eb429eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Публичный метод возврата баланса протоколу. Вывод средств возможен только для полностью обновленных (актуальных) балансов. Производит обмен Юнитов на управляющий токен и выплачивает на аккаунт пользователя.  <a href="#a9de3452f29b79947afee91916eb429eb">More...</a><br /></td></tr>
<tr class="separator:a9de3452f29b79947afee91916eb429eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acf8abb1c3da1cc66eeb0777a3ebd74a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8abb1c3da1cc66eeb0777a3ebd74a6">&#9670;&nbsp;</a></span>adjust_emission_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eosio::asset eosio::core::adjust_emission_pool </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>hostname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Внутренний метод расчета пула эмиссии. Вызывается в момент распределения эмиссии на цели сообщества. Расчет объема эмиссии происходит исходя из параметра life_balance_for_sale завершенного пула, и процента эмиссии, установленного архитектором. Процент эмиссии ограничен от 0 до 1000% относительного живого остатка на продажу в каждом новом пуле. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>The hostname - имя аккаунта хоста</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{ description_of_the_return_value } </dd></dl>

</div>
</div>
<a id="ada24c50e781f7ed749e93f87ed68491d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada24c50e781f7ed749e93f87ed68491d">&#9670;&nbsp;</a></span>calculate_forecast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;eosio::asset&gt; eosio::core::calculate_forecast </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>quants</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>pool_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Метод расчета прогнозов Внутренний метод расчета прогнозов выплат для последующих 4х пулов по балансу ядерных Юнитов и на основе будущих курсов. Используются только для демонастрации пользователю. </p>
<p>TODO Может дополнительно быть реализован в качестве внешнего метода достоверной проверки прогнозов, который с каждым вызовом производит расчет будущих курсов и расширяет массив с данными по желанию пользователя. Устранить избыток кода.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">username</td><td>The username </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quants</td><td>The quants </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pool_num</td><td>The pool number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The forecast. </dd></dl>

</div>
</div>
<a id="aa6d6b898bb6a6ff984ca47ff45bb2504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6d6b898bb6a6ff984ca47ff45bb2504">&#9670;&nbsp;</a></span>emission()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::emission </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>внутренний метод эмиссии, который вызывается в момент распределения целевого фонда сообщества на цели участников. Вызывается в момент переключения порядкового номера пула на каждый последующий. Эмитирует в балансы активных целей сообщества установленный архитектором процент от свободного финансового потока из заранее накопленного в фонде целей сообщества. </p>
<p>Фонд целей сообщества пополняется в момент вывода выигрыша каждым победителем или прямым пополнением любым участником.</p>
<p>Фонд целей сообщества расходуется исходя из текущего финансового оборота в спирали при переключении раунда на каждый следующий.</p>
<p>Распределение в момент переключения пулов определяется параметром процента эмиссии от живого остатка на продажу, что представляет собой линию обратной связи от динамики вращения ядра. <br />
 Таким образом, целевой фонд сообщества пополняется и расходуется согласно гибкому набору правил, обеспечивающих циркуляцию.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host - имя аккаунта хоста </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c8358af15c27c968b4879661242ee7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8358af15c27c968b4879661242ee7a">&#9670;&nbsp;</a></span>emplace_first_pools()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::emplace_first_pools </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>parent_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>main_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eosio::symbol_code&#160;</td>
          <td class="paramname"><em>root_symbol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Внутренний метод установки первых пулов нового цикла. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parent_host</td><td>The parent host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">main_host</td><td>The main host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">root_symbol</td><td>The root symbol </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1638e74f48c2316a81db6e06f7593173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1638e74f48c2316a81db6e06f7593173">&#9670;&nbsp;</a></span>fill_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::fill_pool </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>quants</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eosio::asset&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>filled_pool_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Внутренний метод заполнения пула. Вызывается в момент совершения депозита пользователем или на приоритетном входе. Создает баланс пользователю и уменьшает количество Юнитов в пуле. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">username</td><td>The username </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quants</td><td>The quants </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>The amount </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filled_pool_id</td><td>The filled pool identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe6cd2a363060de08f71f3f6a42079f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe6cd2a363060de08f71f3f6a42079f7">&#9670;&nbsp;</a></span>fund_emi_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::fund_emi_pool </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eosio::asset&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Метод ручного пополнения целевого фонда сообщества. Жетоны, попадающие в целевой фонд сообщества, подлежат распределению на цели с помощью голосования участников по установленным правилам консенсуса. </p>
<p>Метод может не использоваться, поскольку еще одним источником пополнения целевого фонда сообщества является установленный архитектором сообщества процент от финансового оборота ядра.</p>
<p>Примеры: Выпущен 1 млн жетонов, 90% из которых закреплены в целевом фонде, а 10% распределяются среди участников через прямое расределение любым способом (например, продажей). В этом случае, 90% жетонов должны быть помещены в целевой фонд, что гарантирует эмиссию жетонов на цели сообщества в зависимости от вращения ядра и установленного архитектором процента эмиссии при заранее известном общем количестве жетонов.</p>
<p>В случае, когда конфигурацией экономики не предусмотрено использование целевого фонда сообществ, или же когда для его пополнения используется только автоматический режим в зависимости от финансового оборота ядра, метод ручного пополнения может не использоваться. И в то же время он всегда доступен любому участнику сообщества простым переводом средств на аккаунт протокола с указанием суб-кода назначения и имени хоста сообщества. <br />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">username</td><td>The username - имя пользователя, совершающего поолнение. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host - имя аккаунта хоста </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>The amount - сумма для пополнения </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>The code - контракт токена, поступивший на вход. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa951318e432688f045d6893748a444cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa951318e432688f045d6893748a444cd">&#9670;&nbsp;</a></span>improve_params_of_new_cycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::improve_params_of_new_cycle </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>main_host</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Получение параметров нового цикла. Внутренний метод, используемый для создания записей в базе данных, необходимых для запуска нового цикла. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host - имя аккаунта хоста </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">main_host</td><td>The main host - указатель на имя аккаунта второстепенного хоста, содержающего измененные параметры вращения (если такой есть) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7436c6f8e26b2cb9f73884616d3f4c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7436c6f8e26b2cb9f73884616d3f4c64">&#9670;&nbsp;</a></span>next_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::next_pool </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Внутренний метод открытия следующего пула Вызывается только при условии полного выкупа всех внутренних учетных единиц предыдущего пула. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf5822c41f9acc44534c06eb5d3e616b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5822c41f9acc44534c06eb5d3e616b">&#9670;&nbsp;</a></span>priority_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::priority_enter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1priorenter.html">priorenter</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Метод приоритетного входа в новый цикл. Доступен к использованию только при условии наличия предыдущего цикла, в котором участник имеет проигравший баланс. Позволяет зайти частью своего проигравшего баланса одновременно в два пула - первый и второй нового цикла. Использование приоритетного входа возможно только до истечения времени приоритета, которое начинается в момент запуска цикла и продолжается до истечения таймера приоритета. </p>
<p>Метод позволяет проигравшим балансам предыдущего цикла перераспределиться в новом цикле развития так, чтобы быть в самом начале вращательного движения и тем самым, гарантировать выигрыш. В случае успеха исполнения метода, пользователь обменивает один свой старый проигравший баланс на два новых противоположных цветов.</p>
<p>В ходе исполнения метода решается арифметическая задача перераспределения, при которой вычисляется максимально возможная сумма входа для имеющегося баланса одновременно в два первых пула. Остаток от суммы, который невозможно распределить на новые пулы по причине нераздельности минимальной учетной единицы, возвращается пользователю переводом.</p>
<p>Приоритетный вход спроектирован таким образом, то если все проигравшие участники одновременно воспользуются им, то в точности 50% внутренней учетной единицы для первого и второго пула будет выкуплено.</p>
<p>TODO возможно расширение приоритетного входа до 100% от внутренней учетной единицы для первых двух пулов, а так же, продолжение приоритетного входа для всех последующих пулов.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>
<p>Здесь происходит перерасчет исходя из того, какое колество жетонов пользователь может получить при условии равного выкупа Юнитов из первых двух пулов. Если после расчетов останется остаток, который не может быть равномерно распределен между пулами - он возвращается пользователю.</p>
<p>Здесь у пользователя есть доступная сумма баланса в токенах, которая меньше чем та, с которой участник может зайти в приоритете "на всю котлету". Необходимо найти минимальную сумму в ядерных Юнитах, которая удовлетворяет условиям баланса и приоритетного входа.</p>

</div>
</div>
<a id="a1ce681caf15438f64bd6cef01c008079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ce681caf15438f64bd6cef01c008079">&#9670;&nbsp;</a></span>profupdate_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::profupdate_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1profupdate.html">profupdate</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Метод обновления профиля Операция обновления профиля позволяет изменить мета-данные аккаунта. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aebbed426e5072f1c0f43f051ff3c6e9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebbed426e5072f1c0f43f051ff3c6e9d">&#9670;&nbsp;</a></span>refresh_balance_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::refresh_balance_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1refreshbal.html">refreshbal</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Публичный метод обновления баланса Пересчет баланса каждого пользователя происходит по его собственному действию. Обновление баланса приводит к пересчету доступной суммы для вывода - на противоположном цвете - проигрыш, на своем - выигрыш. На общее состояние Юнитов в пуле действие или бездействие пользователя со своим балансом влияния не оказывает. Без обновления баланса до состояния крайнего пула - сдать баланс Юнитов протоколу невозможно. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>
<p><br />
Для расчетов выплат реферальных вознаграждений необходимо решить дифференциальное уравнение.</p>

</div>
</div>
<a id="afcfd6d8fd630694c723ff06e4cd8cdfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcfd6d8fd630694c723ff06e4cd8cdfe">&#9670;&nbsp;</a></span>refresh_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::refresh_state </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Публичный метод обновления состояния Проверяет пул на истечение во времени или завершение целого количества ядерных Юнитов. Запускает новый цикл или добавляет новый пул. </p>
<p>//TODO устранить избыточность</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6781ce293510a94cc421d386c9aae92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6781ce293510a94cc421d386c9aae92">&#9670;&nbsp;</a></span>reg_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::reg_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1reg.html">reg</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Регистрация пользователя в системе. Характеризуется созданием профиля с ссылкой на приглашающий аккаунт. Приглашающий аккаунт используется в качестве связи для вычисления партнерских структур различного профиля. </p>
<p>TODO ввести порядковые номера <br />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeab146cbd52805b0e9689e32489d57d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab146cbd52805b0e9689e32489d57d7">&#9670;&nbsp;</a></span>setparams_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::setparams_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1setparams.html">setparams</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Публичный метод установки параметров протокола двойной спирали Вызывается пользователем после базовой операции создания хоста и проведения оплаты. Так же вызывается при установке параметров дочернего хоста. Содержит алгоритм финансового ядра. Производит основные расчеты таблиц курсов и валидирует положительность бизнес-дохода. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>
<p>Математическое ядро алгоритма курса двойной спирали.</p>
<p>Позволяет исключить ошибку в расчете курсов, вызываемую особенностью округления минимальных используемых чисел.</p>
<p>Проверка бизнес-модели на положительный баланс. Остатка на балансе в любой момент должно быть достаточно для выплат всем проигравшим и всем победителям. Если это не так - протокол спирали не позволит себя создать.</p>
<p>Установка таблиц курсов в область памяти хоста</p>

</div>
</div>
<a id="a52b7bd0a4e7810a9911112c745f43fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b7bd0a4e7810a9911112c745f43fdb">&#9670;&nbsp;</a></span>start_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::start_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1start.html">start</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Публичный метод запуска хоста Метод необходимо вызвать для запуска хоста после установки параметров хоста. Добавляет первый цикл, два пула, переключает демонастративный флаг запуска и создает статистические объекты. Подписывается аккаунтом хоста. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d8a3a33305dee1fc3cda981cacf009a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8a3a33305dee1fc3cda981cacf009a">&#9670;&nbsp;</a></span>start_new_cycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::start_new_cycle </td>
          <td>(</td>
          <td class="paramtype">account_name&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Внутрений метод запуска нового цикла. Вызывается при достижении одного из множества условий. Вызывает расчет показательной статистики цикла и установку новых пулов. Если установлен флаг переключения на дочерний хост, здесь происходит замена основного хоста и снятие флага. Дочерний хост хранит в себе измененные параметры финансового ядра. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>The host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9de3452f29b79947afee91916eb429eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de3452f29b79947afee91916eb429eb">&#9670;&nbsp;</a></span>withdraw_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void eosio::core::withdraw_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeosio_1_1withdraw.html">withdraw</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Публичный метод возврата баланса протоколу. Вывод средств возможен только для полностью обновленных (актуальных) балансов. Производит обмен Юнитов на управляющий токен и выплачивает на аккаунт пользователя. </p>
<p>Производит расчет реферальных вознаграждений, генерируемых выплатой, и отправляет их всем партнерам согласно установленной формы.</p>
<p>Производит финансовое распределение между управляющими компаниями и целевым фондом сообщества.</p>
<p>Каждый последующий пул, который участник проходит в качестве победителя, генеририрует бизнес-доход, который расчитывается исходя из того, что в текущий момент, средств всех проигравших полностью достаточно наа выплаты всем победителям с остатком. Этот остаток, в прапорции Юнитов пользователя и общего количества Юнитов в раунде, позволяет расчитать моментальную выплату, которая может быть изъята из системы при сохранении абсолютного балланса.</p>
<p>Изымаемая сумма из общего котла управляющих токенов, разделяется на три потока, определяемые двумя параметрами:</p><ul>
<li>Процент выплат на рефералов. Устанавливается в диапазоне от 0 до 100. Отсекает собой ровно ту часть пирога, которая уходит на выплаты по всем уровням реферальной структуры согласно ее формы.</li>
<li>Процент выплат на корпоративных управляющих. Устанавливается в диапазоне от 0 до 100.</li>
<li>Остаток от остатка распределяется в фонд целей сообщества.</li>
</ul>
<p>Таким образом, коэффициенты позволяют распределять единый системный фонд по окружности с тремя секторами, где каждый сектор есть фонд со своим назначением. <br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
 Например, если общий доход от движения баланса пользователя по спирали составляет 100 USD, а коэфициенты распределения Рефералов и Корпоративных Управляющих равняются соответственно по 0.5 (50%), то все рефералы получат по 33$, все управляющие получат по 33$, и еще 33$ попадет в фонд целей сообщества. 1$ останется в качестве комиссии округления на делении у протокола.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>The operation </td></tr>
  </table>
  </dd>
</dl>
<p>Номинал Номинал выплачивается если выполняется одно из условий:</p><ul>
<li>баланс куплен в одном из первых двух пулов, а текущий пул не выше второго;</li>
<li>баланс куплен в текущем пуле;</li>
<li>баланс куплен в последнем из возможных пулов;</li>
</ul>
<p>Выигрыш или проигрыш. Расчет производится на основе сравнения текущего цвета пула с цветом пула входа. При совпадении цветов - баланс выиграл. При несовпадении - проиграл.</p>
<p>Выигрыш. Инициирует распределение реферальных вознаграждений и выплаты во все фонды.</p>
<p>Вычисляем размер выплаты для каждого уровня партнеров и производим выплаты.</p>
<p>Все неиспользуемые вознаграждения с вышестояющих уровней отправляются на аккаунт хоста сообщества.</p>
<p>Если рефералов у пользователя нет, то переводим все реферальные средства на аккаунт хоста.</p>
<p>Модифицируем объект реферальной статистики для дальнейшей сверки с расчетными данными.</p>
<p>Расчет выплат на управляющие аккаунты. В первом приближении для выплат используем единственный аккаунт хоста. Позже можем использовать массив управляющих аккаунтов и условия распределеления согласно любой модели (акции, равенство, и т.д.).</p>
<p>Объект sincome содержит статистическую информацию о фактическом распределении корпоративных выплат и пополнений целевого фонда.</p>
<p>Все ядерные Юниты победителей должны быть возвращены в пулы.</p>
<p>TODO Здесь может происходить начисление Юнитов распределения - например, передача пользователю силы сообщества за участие во вращении спирали ядра или перевод любых токенов согласно инверсии текущего курса - чем раньше вошел во вращение - тем больше получил жетонов в дополнение к тому балансу, который ты уже выиграл.</p>
<p>Модицикация не обязательна, поскольку баланс удаляется. Использовалось при отладке.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>core.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
